<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <style>
    table.head, table.foot { width: 100%; }
    td.head-rtitle, td.foot-os { text-align: right; }
    td.head-vol { text-align: center; }
    .Nd, .Bf, .Op { display: inline; }
    .Pa, .Ad { font-style: italic; }
    .Ms { font-weight: bold; }
    .Bl-diag > dt { font-weight: bold; }
    code.Nm, .Fl, .Cm, .Ic, code.In, .Fd, .Fn, .Cd { font-weight: bold;
      font-family: inherit; }
  </style>
  <title>SEMODULE(8)</title>
</head>
<body>
<table class="head">
  <tr>
    <td class="head-ltitle">SEMODULE(8)</td>
    <td class="head-vol">System Manager's Manual</td>
    <td class="head-rtitle">SEMODULE(8)</td>
  </tr>
</table>
<div class="manual-text">
<section class="Sh">
<h1 class="Sh" id="NAME"><a class="permalink" href="#NAME">NAME</a></h1>
<p class="Pp">semodule - Manage SELinux policy modules.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SYNOPSIS"><a class="permalink" href="#SYNOPSIS">SYNOPSIS</a></h1>
<p class="Pp"><b>semodule [option]... MODE...</b></p>
</section>
<section class="Sh">
<h1 class="Sh" id="DESCRIPTION"><a class="permalink" href="#DESCRIPTION">DESCRIPTION</a></h1>
<p class="Pp">semodule is the tool used to manage SELinux policy modules,
    including installing, upgrading, listing and removing modules. semodule may
    also be used to force a rebuild of policy from the module store and/or to
    force a reload of policy without performing any other transaction. semodule
    acts on module packages created by semodule_package. Conventionally, these
    files have a .pp suffix (policy package), although this is not mandated in
    any way.</p>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="MODES"><a class="permalink" href="#MODES">MODES</a></h1>
<dl class="Bl-tag">
  <dt id="R,"><a class="permalink" href="#R,"><b>-R, --reload</b></a></dt>
  <dd>force a reload of policy</dd>
  <dt id="B,"><a class="permalink" href="#B,"><b>-B, --build</b></a></dt>
  <dd>force a rebuild of policy (also reloads unless -n is used)</dd>
  <dt id="refresh"><a class="permalink" href="#refresh"><b>--refresh</b></a></dt>
  <dd>Like --build, but reuses existing linked policy if no changes to module
      files are detected (by comparing with checksum from the last transaction).
      One can use this instead of -B to ensure that any changes to the module
      store done by an external tool (e.g. a package manager) are applied, while
      automatically skipping the module re-linking if there are no module
      changes.</dd>
  <dt id="D,"><a class="permalink" href="#D,"><b>-D,
    --disable_dontaudit</b></a></dt>
  <dd>Temporarily remove dontaudits from policy. Reverts whenever policy is
      rebuilt</dd>
  <dt id="i,"><a class="permalink" href="#i,"><b>-i,--install=MODULE_PKG</b></a></dt>
  <dd>install/replace a module package</dd>
  <dt id="u,"><a class="permalink" href="#u,"><b>-u,--upgrade=MODULE_PKG</b></a></dt>
  <dd>deprecated, alias for --install</dd>
  <dt id="b,"><a class="permalink" href="#b,"><b>-b,--base=MODULE_PKG</b></a></dt>
  <dd>deprecated, alias for --install</dd>
  <dt id="r,"><a class="permalink" href="#r,"><b>-r,--remove=MODULE_NAME</b></a></dt>
  <dd>remove existing module at desired priority (defaults to -X 400)</dd>
  <dt id="l_KIND_,"><a class="permalink" href="#l_KIND_,"><b>-l[KIND],--list-modules[=KIND]</b></a></dt>
  <dd>display list of installed modules (other than base)</dd>
  <dt id="KIND:"><a class="permalink" href="#KIND:"><b>KIND:</b></a></dt>
  <dd></dd>
  <dt id="standard"><a class="permalink" href="#standard">standard</a></dt>
  <dd>list highest priority, enabled, non-base modules</dd>
  <dt id="full"><a class="permalink" href="#full">full</a></dt>
  <dd>list all modules</dd>
  <dt id="X,"><a class="permalink" href="#X,"><b>-X,--priority=PRIORITY</b></a></dt>
  <dd>set priority for following operations (1-999)</dd>
  <dt id="e,"><a class="permalink" href="#e,"><b>-e,--enable=MODULE_NAME</b></a></dt>
  <dd>enable module</dd>
  <dt id="d,"><a class="permalink" href="#d,"><b>-d,--disable=MODULE_NAME</b></a></dt>
  <dd>disable module</dd>
  <dt id="E,"><a class="permalink" href="#E,"><b>-E,--extract=MODULE_PKG</b></a></dt>
  <dd>Extract a module from the store as an HLL or CIL file to the current
      directory. A module is extracted as HLL by default. The name of the module
      written is &lt;module-name&gt;.&lt;lang_ext&gt;</dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="OPTIONS"><a class="permalink" href="#OPTIONS">OPTIONS</a></h1>
<dl class="Bl-tag">
  <dt id="s,"><a class="permalink" href="#s,"><b>-s,--store</b></a></dt>
  <dd>name of the store to operate on</dd>
  <dt id="n,"><a class="permalink" href="#n,"><b>-n,--noreload,-N</b></a></dt>
  <dd>do not reload policy after commit</dd>
  <dt id="h,"><a class="permalink" href="#h,"><b>-h,--help</b></a></dt>
  <dd>prints help message and quit</dd>
  <dt id="P,"><a class="permalink" href="#P,"><b>-P,--preserve_tunables</b></a></dt>
  <dd>Preserve tunables in policy</dd>
  <dt id="C,"><a class="permalink" href="#C,"><b>-C,--ignore-module-cache</b></a></dt>
  <dd>Recompile CIL modules built from HLL files</dd>
  <dt id="p,"><a class="permalink" href="#p,"><b>-p,--path</b></a></dt>
  <dd>Use an alternate path for the policy root</dd>
  <dt id="S,"><a class="permalink" href="#S,"><b>-S,--store-path</b></a></dt>
  <dd>Use an alternate path for the policy store root</dd>
  <dt id="v,"><a class="permalink" href="#v,"><b>-v,--verbose</b></a></dt>
  <dd>be verbose</dd>
  <dt id="c,"><a class="permalink" href="#c,"><b>-c,--cil</b></a></dt>
  <dd>Extract module as a CIL file. This only affects the --extract option and
      only modules listed in --extract after this option.</dd>
  <dt id="H,"><a class="permalink" href="#H,"><b>-H,--hll</b></a></dt>
  <dd>Extract module as an HLL file. This only affects the --extract option and
      only modules listed in --extract after this option.</dd>
  <dt id="m,"><a class="permalink" href="#m,"><b>-m,--checksum</b></a></dt>
  <dd>Add SHA256 checksum of modules to the list output.
    <p class="Pp"></p>
  </dd>
</dl>
</section>
<section class="Sh">
<h1 class="Sh" id="EXAMPLE"><a class="permalink" href="#EXAMPLE">EXAMPLE</a></h1>
<pre># Install or replace a base policy package.
$ semodule -b base.pp
# Install or replace a non-base policy package.
$ semodule -i httpd.pp
# Install or replace all non-base modules in the current directory.
# This syntax can be used with -i/u/r/E, but no other option can be entered after the module names
$ semodule -i *.pp
# Install or replace all modules in the current directory.
$ ls *.pp | grep -Ev &quot;base.pp|enableaudit.pp&quot; | xargs /usr/sbin/semodule -b base.pp -i
# List non-base modules.
$ semodule -l
# List all modules including priorities
$ semodule -lfull
# Remove a module at priority 100
$ semodule -X 100 -r wireshark
# Turn on all AVC Messages for which SELinux currently is &quot;dontaudit&quot;ing.
$ semodule -DB
# Turn &quot;dontaudit&quot; rules back on.
$ semodule -B
# Disable a module (all instances of given module across priorities will be disabled).
$ semodule -d alsa
# Install a module at a specific priority.
$ semodule -X 100 -i alsa.pp
# Set an alternate path for the policy root
$ semodule -B -p &quot;/tmp&quot;
# Set an alternate path for the policy store root
$ semodule -B -S &quot;/tmp/var/lib/selinux&quot;
# Write the HLL version of puppet and the CIL version of wireshark
# modules at priority 400 to the current working directory
$ semodule -X 400 --hll -E puppet --cil -E wireshark
# Check whether a module in &quot;localmodule.pp&quot; file is same as installed module &quot;localmodule&quot;
$ /usr/libexec/selinux/hll/pp localmodule.pp | sha256sum
$ semodule -l -m | grep localmodule
# Translate binary module file into CIL (useful for debugging installation errors)
$ /usr/libexec/selinux/hll/pp alsa.pp &gt; alsa.cil</pre>
<p class="Pp"></p>
</section>
<section class="Sh">
<h1 class="Sh" id="SEE_ALSO"><a class="permalink" href="#SEE_ALSO">SEE
  ALSO</a></h1>
<p class="Pp"><b>checkmodule</b>(8), <b>semodule_package</b>(8)</p>
</section>
<section class="Sh">
<h1 class="Sh" id="AUTHORS"><a class="permalink" href="#AUTHORS">AUTHORS</a></h1>
<pre>This manual page was written by Dan Walsh &lt;dwalsh@redhat.com&gt;.
The program was written by Karl MacMillan &lt;kmacmillan@tresys.com&gt;, Joshua Brindle &lt;jbrindle@tresys.com&gt;, Jason Tang &lt;jtang@tresys.com&gt;</pre>
</section>
</div>
<table class="foot">
  <tr>
    <td class="foot-date">Nov 2005</td>
    <td class="foot-os">Security Enhanced Linux</td>
  </tr>
</table>
</body>
</html>
